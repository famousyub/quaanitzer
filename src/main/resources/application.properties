# NOTE: All of these properties are overridable in the docker compose yaml files, so really we
# don't need any of the settings in file file, and theoretically could just move ALL of these settings to the yaml

# The Spring devepers stupidly decided to disallow spring beans to depend on each other
# and this setting is required to disable that stupid decision, hopefully harmlessly.
# (Quanta would have to change many many thousands of lines of code to adhere
# to any rediculous curcular ref compliance)

server.shutdown=graceful

# leaving as default 30s
# spring.lifecycle.timeout-per-shutdown-phase=1m

mongoTest=false


spring.data.mongodb.database=restomedia
spring.data.mongodb.port=27017
spring.data.mongodb.host=localhost

mongodb.host=localhost
mongodb.port=27017
mail.host=smtp.gmail.com
mail.port=27
mail.username=ayoub.smayen@esprit.tn
mail.password=ingayoub1

server.port = 8005

# Other properties
spring.mail.properties.mail.debug=true
spring.mail.properties.mail.transport.protocol=smtp
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000
rsaKeyFolder=.

spring.http.multipart.max-file-size: 200MB 
spring.http.multipart.max-request-size: 200MB 
spring.servlet.multipart.max-file-size: 200MB
spring.servlet.multipart.max-request-size: 200MB
adminDataFolder: /tmp



TSERVER_PORT: 4001
TSERVER_API_KEY: 147852369Azerty

#mail.port: ""
#mail.user: ayoub.smayen@esprit.com
#mail.password: ingayoub1
#mail.host: smtp.mailgun.org
#mail.from: ayoub.smayen@esprit.tn

JAVA_TOOL_OPTIONS: "-agentlib:jdwp=transport=dt_socket,address=0.0.0.0:${PORT_DEBUG},server=y,suspend=n"

ipfs.host: "http://ipfs-host-dev"
ipfs.apiPort: "5001"
ipfs.gatewayPort: "8080"

mongoAdminUserName=admin

#important: Server admin must put content here, to provide the default page for anonymous users
anonUserLandingPageNode=:home

mailBatchSize=10
throttleTime=2000

# WARNING: The server.servlet.session.timeout is referenced directly
# in our java code and sent to the client so client knows the timeout from this, so we ALWAYS need this
# defined here and can't just omit to use spring default.
#
# WARNING: Using MINUTES is required here too!!! (because we have java code expecting that)
# 
# WARNING: Setting this to less than 2m will NOT work well because we start warning user at a 
# minute BEFORE a timeout, so that means only timeouts ">= 3m" can work well in this app.
server.servlet.session.timeout=30m
			
# todo-1: setup like this for autoscanning and from a file system location hopefully.
# excellent example:
# https://dzone.com/articles/logback-configuration-using-xml
# <configuration scan="true" scanPeriod="30 seconds" > 
# </configuration> 

spring.mvc.async.request-timeout = 3600000

server.error.path=/error

spring.resources.static-locations=classpath:/public/,file:///dev-resource-base/

# ActPubTest, IPFSTest, SendMailTest, MongoTest
runTests=